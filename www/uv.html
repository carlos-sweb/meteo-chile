<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0 ,  user-scalable=no , maximum-scale=1.0">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/uv-style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">  
  <title>Indice UV - Chile</title>  
</head>
<body>
    <div class="container-main container-main-fixed" >      
        <div class="container-uv" >
          <div class="city-name"><span>REGIÓN</span></div>
          <div class="city-uv"><span>UV</span></div>
        </div>        
        <div class="container-uv-scale" >
          <div class="uv-scale city-uv-bajo"><span>BAJO</span></div>
          <div class="uv-scale city-uv-moderado"><span>MODERADO</span></div>
          <div class="uv-scale city-uv-alto"><span>ALTO</span></div>
          <div class="uv-scale city-uv-muy-alto"><span>MUY ALTO</span></div>
          <div class="uv-scale city-uv-extremo"><span>EXTREMO</span></div>
        </div>
    </div>
    <div id="main" class="container-main container-main-fixed-next"></div>
<script type="text/javascript">

    const main = document.getElementById("main"),
    _c_e=(_tag)=>document.createElement(_tag);

    fetch("data/uv.json").then( res => res.json() ).then( data =>{
          for( let item of data){
            const containerUv = _c_e("div"),
            name = _c_e("div"),
            nameSpan = _c_e("span"),
            uv = _c_e("div"),
            uvSpan = _c_e("span");

            name.classList.add("city-name");            
            name.appendChild(nameSpan);

            switch(item.name){
              case "ARICA (UNIVERSIDAD DE TARAPACÁ)":
                nameSpan.innerText = "ARICA"
              break;
              case "TALCA (UNIVERSIDAD AUTONOMA)":
                nameSpan.innerText = "TALCA"
              break;
              case "GENERAL FREIRE, CURICÓ AD":
                nameSpan.innerText = "CURICÓ"
              break;
              case "GENERAL BERNADOR O'HIGGINS, CHILLÁN AD":
                nameSpan.innerText = "CHILLÁN"
              break;
              case "MARÍA DOLORES, LOS ÁNGELES    AD.":
                nameSpan.innerText = "LOS ÁNGELES"
              break;
              case "TEMUCO, LA ARAUCANÍA AD.":
                nameSpan.innerText = "TEMUCO"
              break;
              case "PUNTA ARENAS (AEROPUERTO)":
                nameSpan.innerText = "PUNTA ARENAS"
              break;                            
              default:
                
                nameSpan.innerText = item.name
              break;
            }

            
            
            
            const i = item.indice_num;

            const classNameUv = 
              i == 1 || i ==  2 ? "city-uv-bajo" :
              i >= 3 && i <= 5  ? "city-uv-moderado" : 
              i == 6 || i == 7  ? "city-uv-alto" : 
              i >= 8 && i <= 10 ? "city-uv-muy-alto" : 
              i >= 11 ? "city-uv-extremo" : 
              "city-uv-nofound"

            uv.classList.add("city-uv",classNameUv)            
            uv.appendChild(uvSpan).innerText = i
            
                        
            containerUv.appendChild(name);
            containerUv.appendChild(uv);            
            containerUv.classList.add("container-uv");                      
            main.appendChild(containerUv);
          }   
    });

</script>

</body>
</html>